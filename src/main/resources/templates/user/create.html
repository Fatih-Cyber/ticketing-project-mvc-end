<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

  <head>
  
   	<div th:replace="/fragments/head :: header"></div>

  </head>

  <body>

    <div class="dashboard-main-wrapper">

       <div th:replace="/fragments/header :: header"></div>
       
       <div th:replace="/fragments/left-sidebar :: left-sidebar"></div>

    <div class="dashboard-wrapper">
    
    <div class="dashboard-ecommerce">
    	<div class="container-fluid dashboard-content">
			<div class="ecommerce-widget">
            	<div class="row">
                	<div class="col-lg-6 col-md-12">
                  		<section class="panel panel-transparent">
                    		<header class="panel-heading">
                      			<h2 class="panel-title">User Create</h2>
                    		</header>
                    		<div class="panel-body">
                    		
                      			<form id="needs-validation" novalidate action="#" 
                      			th:action="@{/user/create}" 
                      			th:object ="${user}" 
                      			method="post">  
                      			
                        			<div class="row">  
                            			<div class="col-sm-6 col-md-6 col-xs-12">  
                                			<div class="form-group">  
                                   				 <label for="firstname">First Name</label>  
                                    				<input type="text" id="firstname" th:field="*{firstname}" 
                                    				placeholder="First Name" class="form-control" aria-describedby="inputGroupPrepend" required />  
                                   					<div class="invalid-feedback">Please enter first name.</div>  
                                			</div>  
                            			</div>
                            			  
                            			<div class="col-sm-6 col-md-6 col-xs-12">  
                                			<div class="form-group">  
                                    			<label for="lastname">Last Name</label>  
                                    				<input type="text" id="lastname"
                                    				th:field="*{lastname}" placeholder="Last Name" class="form-control" aria-describedby="inputGroupPrepend" required />  
                                    				<div class="invalid-feedback">Please enter last name.</div>  
                                			</div>  
                            			</div>  
                        			</div>  
                        			
                       				<div class="row">  

                            			
                            			<div class="col-sm-6 col-md-6 col-xs-12">  
                                			<div class="form-group">  
                                    			<label for="email">Email address</label>  
														<input type="email" class="form-control"  th:field="*{username}" placeholder="email address" aria-describedby="inputGroupPrepend" required>
  
                                    				<div class="invalid-feedback">Please provide a valid email.</div>  
                                			</div>  
                            			</div>
                            			  
                            			<div class="col-sm-6 col-md-6 col-xs-12">  
                                			<div class="form-group">  
                                    			<label for="phonenumber">Mobile Number</label>  
                                    				<input type="tel" pattern="^\d{10}$" class="form-control" id="phonenumber"
                                    				th:field="*{phone}" placeholder="Mobile Number" aria-describedby="inputGroupPrepend" required>  
                                    				<div class="invalid-feedback">Please enter 10 digit mobile number.</div>  
                                			</div>  
                            			</div>  
                        			</div>  

                        			<div class="row">  
                          				<div class="col-sm-6 col-md-6 col-xs-12">  
                              				<div class="form-group">  
                                				<label for="inputPassword1">Password</label>
                                					<input type="password" class="form-control" name="inputPassword1" id="pass1"
                                					th:field="*{password}" placeholder="password" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$"required>
                            						<div class="invalid-feedback">Passwords should be a minimum of 8 characters and include at least one upper case letter, one lower case letter and one number.</div>
                              				</div>  
                          				</div>  
                          			
                          				<div class="col-sm-6 col-md-6 col-xs-12">  
                            				<div class="form-group">  
                              					<label for="inputPassword1">Password Confirmation</label>
                              						<input type="password" class="form-control" name="inputPassword2" id="pass2" placeholder="re-enter password" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$" required>
                          							<div class="invalid-feedback">Re-enter</div> 
                              				</div>  
                          				</div>  
                          			</div>
                      					 

									<div class="row">
										<div class="col-sm-6 col-md-6 col-xs-12">
											<div class="form-group">
												<label for="Gender">Gender</label> <br> <label class="custom-control custom-radio custom-control-inline">
													<input value="Male" type="radio" name="radio-inline"
													th:field="*{gender}" th:value="Male" checked="true" class="custom-control-input"><span class="custom-control-label">Male</span>
														</label> <label
														class="custom-control custom-radio custom-control-inline">
														<input type="radio" value="Female" name="radio-inline"
														th:field="*{gender}" th:value="Female" class="custom-control-input"><span class="custom-control-label">Female</span>
														</label>
											</div>
										</div>

										
												<div class="col-sm-6 col-md-6 col-xs-12">
													<div class="form-group">
														<label for="lastname">Role</label>
														<select id="role"  th:field="*{role}" class="custom-select" required >
														<option th:value="''" th:text="Select"></option>
														<option th:each="r : ${roles}" th:value="${r.id}" th:text="${r.description}"></option>
														</select>
														<div class="invalid-feedback">Please choose role</div>
													</div>
												</div>
											
									</div>
                        			
                        			<div class="row">  
                            			<div class="col-sm-12 col-md-12 col-xs-12">  
                                			<div class="float-right">  
                                    			<button class="btn btn-success rounded-0" type="submit" onclick="return Validate()">Save</button>  
                               				 </div>                            
                            			</div>  
                       			 	</div> 
                       			  
                    		</form>
                    	</div>
                  	</section>
                </div>
              </div>
            </div>
            
           

            
            <div class="row">
              <div class="col-lg-12 col-md-12">
                <div class="col-md-12">
                  <section class="panel">
                    <header class="panel-heading">
                      <h2 class="panel-title">User List</h2>
                    </header>
                    <div class="panel-body">
                      <div class="table-responsive">
                        <table class="table table-striped">
                          <thead>
                            <tr>
                              <th>Name</th>
                              <th>E-Mail(username)</th>
                              <th>Gender</th>
                              <th>Phone</th>
                              <th>Role</th>
                              <th>Action</th>
                            </tr>
                          </thead>
                          <tbody>
                          
                            <tr th:each="user : ${users}">
								<td th:text="${user.firstname + ' '+ user.lastname}"></td>
								<td th:text="${user.username}"></td>
								<td th:text="${user.gender}"></td>
								<td th:text="${user.phone}"></td>
								<td th:text="${user.role.description}"></td>
								
								<td><a class="btn btn-warning rounded-0" 
										th:href="@{/user/update/{id}(id=${user.username})}">Update
									</a>
									
									<a class="btn btn-danger rounded-0" 
										th:href="@{/user/delete/{id}(id=${user.username})}">Delete
									</a>
								</td>
								
							</tr>
                            
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </section>
                </div>
              </div>
            </div>

          </div>
        </div>
      
      <div th:replace="/fragments/footer :: footer"></div>
      
    </div>
    
    <div th:replace="/fragments/javascript :: js"></div>
	</body>
</html>
